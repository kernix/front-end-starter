@use "../mixins/breakpoints";
@use "../mixins/rem";
@use "../variables";

/* ---- CMS ---- */
.cms-wrap {
  padding: rem.rem(50px) 0;
  // @include max(xs){ padding: rem(30px) 0;}
}

// Content
.cms-content {
  line-height: 1.56;
  // font-size: rem(18px);
  // @include max(md){ font-size: rem(16px);}
  // @include max(xs){ font-size: rem(16px);}
  
  h1, h2, h3, h4, h5 {
    &:last-child { margin-bottom: 0;}
  }

  // Title
  h1, h2 {
    font-size: rem.rem(42px); margin-bottom: rem.rem(30px); line-height: 1.24;
    @include breakpoints.max(sm){ font-size: rem.rem(34px); margin-bottom: rem.rem(22px); line-height: 1.36;}
    @include breakpoints.max(xs){ font-size: rem.rem(24px); margin-bottom: rem.rem(16px); line-height: 1.42;}
  }
  h3 {
    font-size: rem.rem(24px); margin-bottom: rem.rem(30px); line-height: 1.42;
    @include breakpoints.max(xs){ font-size: rem.rem(21px); margin-bottom: rem.rem(16px); line-height: 1.48;}
  }
  h4 {
    font-size: rem.rem(21px); margin-bottom: rem.rem(24px); font-weight: 400; 
    @include breakpoints.max(xs){ font-size: rem.rem(18px); margin-bottom: rem.rem(16px);}
  }
  h5 {
    font-size: rem.rem(19px); margin-bottom: rem.rem(15px); font-weight: 400;
    @include breakpoints.max(xs){ font-size: rem.rem(17px); margin-bottom: rem.rem(10px);}
  }
  h6 {
    font-size: rem.rem(17px); margin-bottom: rem.rem(10px); font-weight: 400;
    @include breakpoints.max(xs){ font-size: rem.rem(16px);}
  }

  p, ul ,ol ,table, blockquote, q, .table-responsive {
    + h1, + h2, + h3 {
      margin-top: rem.rem(35px);
      @include breakpoints.max(md){ margin-top: rem.rem(30px);}
    }
  }

  // Bold
  b, strong { font-weight: 600;}

  // Paragraphe
  p {
    margin-bottom: rem.rem(30px);
    @include breakpoints.max(xs){ margin-bottom: rem.rem(20px);}
    &:last-child { margin-bottom: 0;}
  }

  // Img
  img {
    margin-bottom: rem.rem(30px); height: auto !important;
    @include breakpoints.max(xs){ margin-bottom: rem.rem(20px);}
    &:last-child { margin-bottom: 0;}
    &.align-center { margin-left: auto; margin-right: auto; display: block; margin-bottom: rem.rem(30px);}
    &.align-left {
      margin-bottom: rem.rem(30px); margin-right: rem.rem(20px);
      @include breakpoints.max(xs){ margin-right: 0;}
    }
    &.align-right {
      margin-bottom: rem.rem(30px); margin-left: rem.rem(20px);
      @include breakpoints.max(xs){ margin-left: 0;}
    }
  }

  // List
  ol {
    padding-left: rem.rem(48px); margin-bottom: rem.rem(30px); list-style: none;
    counter-reset: list;
    @include breakpoints.max(xs){ margin-bottom: rem.rem(20px);}

    &:last-child { margin-bottom: 0;}
    >li {
      counter-increment: list; position: relative;
      +li { margin-top: rem.rem(20px);}
      &:before { 
        content: counter(list); display: block; font-size: rem.rem(16px); font-weight: 500; position: absolute; left: -48px; top: -4px; width: 32px;
        height: 32px; line-height: 32px; background: rgba(variables.$black, .1); border-radius: 50%; text-align: center;
      }
    }
  }

  ul {
    padding-left: rem.rem(30px); margin-bottom: rem.rem(30px); list-style: none;
    @include breakpoints.max(xs){ margin-bottom: rem.rem(20px);}

    &:last-child { margin-bottom: 0;}
    >li {
      position: relative;
      &:before { content:"Â·"; display: block; font-size: rem.rem(35px); line-height: 0.5; position: absolute; left: -18px; top: 5px;}
      +li { margin-top: rem.rem(20px);}
    }
  }

  // Quote
  blockquote, q {
    margin-bottom: rem.rem(30px); font-weight: 400; font-size: rem.rem(21px); padding-left: rem.rem(44px); position: relative; line-height: 1.33; display: block; color: rgba(variables.$black, .5); margin-top: rem.rem(50px);
    @include breakpoints.max(xs){ margin-top: rem.rem(20px); margin-bottom: rem.rem(20px);}
    &:last-child { margin-bottom: 0;}
    @include breakpoints.max(xs){ font-size: rem.rem(18px); padding-left: rem.rem(36px); margin-top: rem.rem(30px);}

    &:before { content: ''; position: absolute; left: 0; background: rgba(variables.$black, .3); width: 4px; top: 0; bottom: 0; z-index: 2;}
  }

  // Link
  a {
    // @extend .text-break !optional; 
    word-wrap: break-word !important; word-break: break-word !important; color: inherit; text-decoration: underline;
    @media screen and (min-width:0\0) { word-break: break-all;}
  }

  // Button
  .btn {
    text-decoration: none;
  }

  // Ratio
  // .cms-ratio {
  //   @extend .ratio !optional;
  //   @extend .ratio-16x9 !optional;
  // }

  // Table
  .table-responsive {
    margin-bottom: rem.rem(30px);
    @include breakpoints.max(xs){ margin-bottom: rem.rem(20px);}
    &:last-child { margin-bottom: 0;}
    
    @include breakpoints.max(md){ overflow: auto; -webkit-overflow-scrolling-x: touch; scrollbar-width: none; display: block; transform: translate(0px, 0px)!important; -ms-overflow-style: none;}

    &::-webkit-scrollbar {
      opacity: 0;
      @include breakpoints.max(md){ display: none;}
    }
    
    table { 
      margin-bottom: rem.rem(30px);
      @include breakpoints.max(xs){ margin-bottom: rem.rem(20px);}
      
      th { color: inherit;}

      tbody {
        tr {
          td { color: inherit;}
          &:last-child { 
            td {
              padding-bottom: 0;
            }
          }
        }
      }
    }
    &:last-child {
      table { margin-bottom: 0;}
    }
  }

  table {
    @extend .table !optional;
    @extend %default-table !optional;
  }
}
