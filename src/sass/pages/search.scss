@use "../components/iconfont";
@use "../mixins/breakpoints";
@use "../mixins/rem";
@use "../variables";

/* ---- Search ---- */
.header-search-form {
    position: fixed; top: 0; right: 0; left: 0; z-index: 78; background: variables.$white; padding: rem.rem(38px) 0 rem.rem(60px); display: none;
    @include breakpoints.max(xs){ padding: rem.rem(25px) 0 rem.rem(30px);}

    // Admin
    .admin-bar & {
        top: 32px;
        @media (max-width:782px){ top: 46px; }
    }

    .btn-close-search {
        margin-bottom: rem.rem(30px); float: right; font-size: rem.rem(18px); display: flex; justify-content: center;
        @include breakpoints.max(xs){ font-size: rem.rem(16px); margin-bottom: rem.rem(25px); }
        
        i { 
            margin-left: rem.rem(15px); 
            @include breakpoints.max(xs){ font-size: rem.rem(14px);  margin-left: rem.rem(10px); position: relative; top: 2px;}
        }
    }
}

.search-form {
    form {    
        position: relative;
    }

    .form-group {
        margin-bottom: 0;
        label {
            position: absolute !important;
            width: 1px !important;
            height: 1px !important;
            padding: 0 !important;
            margin: -1px !important;
            overflow: hidden !important;
            clip: rect(0, 0, 0, 0) !important;
            white-space: nowrap !important;
            border: 0 !important;
        }
        @include iconfont.icon(search);
        &:before {
            position: absolute; top: 50%; left: 23px; transform: translateY(-50%); pointer-events: none; z-index: 1; font-size: rem.rem(17px);
            @include breakpoints.max(xs){ left: 19px;}
        }
    }

    .form-control {
        padding-left: rem.rem(56px); padding-right: rem.rem(70px);
        @include breakpoints.max(xs){ padding-left: rem.rem(48px);}

        .search-head-section & {
            background: transparent;
        }
    }

    .btn-submit-search {
        position: absolute; top: 1px; right: 1px; z-index: 1; width: 58px; height: 58px; background-color: variables.$grey-40; color: variables.$white; padding: 0; text-align: center; font-size: rem.rem(15px);
        &:hover, &:focus { background-color: variables.$black; }
        @include breakpoints.max(xs){ height: 48px; width: 48px; min-height: 48px;}
    }    
}


.header-search-overlay {
    position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 77; background: rgba(variables.$black, 0.2); opacity: 0; transition: .3s; pointer-events: none;
    // Active
    &.active {
        opacity: 1; pointer-events: visible;
    }
}

// Page
.search-head-section {
    background: variables.$grey; padding-bottom: rem.rem(50px);
    @include breakpoints.max(xs){ padding-bottom: rem.rem(30px);}

    // Breadcrumb
    .breadcrumb-section {
        padding-bottom: rem.rem(50px);
        @include breakpoints.max(sm){ padding-bottom: rem.rem(30px);}
    }
}

.search-result-section {
    padding: rem.rem(30px) 0 rem.rem(100px);
    @include breakpoints.max(xs){ padding: rem.rem(10px) 0 rem.rem(50px);}
}

.search-result-title {
    font-size: rem.rem(32px); line-height: 1.31; margin-top: rem.rem(32px); font-weight: 400; margin-bottom: 0;
    @include breakpoints.max(xs){ font-size: rem.rem(18px); margin-top: rem.rem(20px);}
}

.search-result-list {
    margin-bottom: 0;
    +.pagination-nav { margin-top: rem.rem(50px);}
}

.search-item {
    border-bottom: 1px solid variables.$grey-40; padding: rem.rem(20px) 0; display: block; color: variables.$text-color;
    &:hover, &:focus { 
        text-decoration: none;
        .search-title { text-decoration: underline; color: variables.$primary;}
    }

    .search-title {
        font-size: rem.rem(21px); font-weight: 500; margin-bottom: rem.rem(10px);
        @include breakpoints.max(xs){ font-size: rem.rem(18px);}
    }

    .search-text {
        margin-bottom: rem.rem(10px); overflow: hidden; text-overflow: ellipsis; display: -webkit-box; max-height: 50px; -webkit-line-clamp: 2; -webkit-box-orient: vertical; color: variables.$text-color;
    }

    .search-date { color: rgba(variables.$black, 0.7);}
}